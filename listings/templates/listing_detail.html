{% extends "base.html" %}

{% block content %}
<div class="grid grid-cols-4 grid-rows-2 gap-2 rounded-xl overflow-hidden">

    <!-- Main image -->
    {% if images %}
    <div class="col-span-2 row-span-2">
      <img src="{{ images.0.image.url }}"
           class="w-full h-full object-cover">
    </div>
    {% endif %}
  
    <!-- Other images -->
    {% for img in images|slice:"1:5" %}
    <div>
      <img src="{{ img.image.url }}"
           class="w-full h-full object-cover">
    </div>
    {% endfor %}
  </div>

  <div class="grid grid-cols-3 gap-10 mt-10  ">

    <!-- LEFT CONTENT -->
    <div class="col-span-2">
      <h1 class="text-3xl font-semibold">{{ listing.title }}</h1>
      <p class="text-gray-600">{{ listing.location }}</p>
  
      <hr class="my-6">
  
      <p>{{ listing.description }}</p>
    </div>
  
    <!-- RIGHT BOOKING CARD -->
    <div class=" rounded-xl p-6 shadow-md max-w-3xl sticky top-32 mr-10 mb-5">
  
      <p class="text-xl font-semibold">
        ₹{{ listing.price_per_night }} <span class="text-sm">/ night</span>
      </p>
  
      <form method="post"
      action="{% url 'create_payment' listing.id %}">
  {% csrf_token %}
  <input type="date" name="check_in" required>
  <input type="date" name="check_out" required>

  <button class="mt-4 w-full bg-red-500 text-white py-3 rounded">
    Reserve
  </button>
</form>

  
      <p class="text-center text-sm text-gray-500 mt-2">
        You won’t be charged yet
      </p>
    </div>
  </div>
  
</div>
{% endblock %}
