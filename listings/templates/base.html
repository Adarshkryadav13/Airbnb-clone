{% load tailwind_tags %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>airbnb Clone </title>
    {% load static %}
    {% tailwind_css %}
    <link rel="stylesheet" href="{% static 'css/output.css' %}">
</head>
<body class="bg-white">

<!-- NAVBAR -->
<nav id="navbar"
     class="fixed top-0 left-0 right-0 z-50 bg-gray-100
            transition-all duration-300">

            <div id="navbar-inner"
            class="max-w-7xl mx-auto px-6 py-5
                   flex items-center justify-between
                   transition-all duration-300">

        <!-- Logo -->
         
        <a href="{% url 'home' %} "
           class="text-2xl font-bold text-red-500 mr-40">
            Airbnb
            
        </a>

    <div id="navbar "
    class="sticky top-20 z-40  py-4 transition-all duration-300">

   <form id="search-bar"
         method="get"
         class="mx-auto flex items-center gap-3 bg-white
                p-4 rounded-full shadow-md max-w-3xl
                transition-all duration-300">
    

            <!-- Location -->
            <select name="location"
                    class="border-none focus:ring-0 text-gray-700 bg-transparent">
                <option value="">Anywhere</option>
                {% for loc in all_locations %}
                    <option value="{{ loc }}"
                      {% if loc == selected_location %}selected{% endif %}>
                      {{ loc }}
                    </option>
                {% endfor %}
            </select>
    
            <span class="text-gray-300">|</span>
    
            <!-- Keyword -->
            <input type="text"
                   name="q"
                   value="{{ search_query|default:'' }}"
                   placeholder="Search homes"
                   class="flex-1 border-none focus:ring-0 outline-none">
    
            <!-- Circular Search Button -->
            <button type="submit"
                    class="bg-red-500 hover:bg-red-600 text-white
                           w-12 h-12 rounded-full flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg"
                     class="h-5 w-5"
                     fill="none"
                     viewBox="0 0 24 24"
                     stroke="currentColor">
                    <path stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M21 21l-4.35-4.35m0 0A7.5 7.5 0 1110.5 3a7.5 7.5 0 016.15 13.65z"/>
                </svg>
            </button>
        </form>
    </div>
    
    <div class="space-x-4 pt-20 ">
        {% if user.is_authenticated %}
            <span class="text-gray-700 font-medium">
                Hi, {{ user.username }}
            </span>
            {% comment %} booking {% endcomment %}
            <a href="{% url 'my_bookings' %}"
             class="px-4 py-2 bg-yellow-400 rounded hover:bg-gray-200">
            My Bookings
            </a>
            <form method="post" action="{% url 'logout' %}" class="inline">
                {% csrf_token %}
                <button type="submit"
                    class="px-4 py-2 bg-red-500 rounded hover:bg-gray-300 text-white ">
                    Logout
                </button>
            </form>
        {% else %}
            <a href="{% url 'login' %}"
               class=" bg-green-500 px-4 py-2 border border-gray-400 rounded hover:bg-gray-100">
                Login
            </a>
            <a href="{% url 'signup' %}"
               class="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600">
                Signup
            </a>
            
            
        {% endif %}

    </div>
    
</nav>
{% if messages %}
  <div class="max-w-6xl mx-auto mt-4">
    {% for message in messages %}
      <div
        class="p-4 mb-3 rounded
               {% if message.tags == 'success' %} bg-green-100 text-green-800
               {% elif message.tags == 'error' %} bg-red-100 text-red-800
               {% else %} bg-blue-100 text-blue-800 {% endif %}">
        {{ message }}
      </div>
    {% endfor %}
  </div>
{% endif %}


<!-- PAGE CONTENT -->
<div class="pt-40 ml-3 transition-all duration-300" id="page-content">
    {% block content %}{% endblock %}
</div>
<!-- PAGE FOOTER -->
{%block footer %}


<footer class="bg-gray-100 rounded-base  m-1 pb-0 h-60">
    <div class="w-[700px]  mx-auto p-4 md:py-8 ">
        <div class="sm:flex sm:items-center sm:justify-between">
            <a href="{% url 'home' %}" class="flex items-center mb-4 sm:mb-0 space-x-3 rtl:space-x-reverse">
                <img src="" class="h-7" alt="" />
                <span class="text-2xl font-bold text-red-500 "> Airbnb</span>
            </a>
            <ul class="flex flex-wrap items-center mb-6 text-sm font-medium text-body sm:mb-0">
                <li>
                    <a href="#" class="hover:underline me-4 md:me-6">About</a>
                </li>
                <li>
                    <a href="#" class="hover:underline me-4 md:me-6">Privacy Policy</a>
                </li>
                <li>
                    <a href="#" class="hover:underline me-4 md:me-6">Licensing</a>
                </li>
                <li>
                    <a href="#" class="hover:underline">Contact</a>
                </li>
            </ul>
        </div>
        <hr class="my-6 border-default sm:mx-auto lg:my-8" />
        <span class="block text-sm text-body sm:text-center">Â© 2025 <a href="" class="hover:underline"> Airbnb</a>. All Rights Reserved.</span>
    </div>
</footer>


{%endblock%}
</body>
<script>
    const navbar = document.getElementById("navbar");
    const navbarInner = document.getElementById("navbar-inner");
    const searchBar = document.getElementById("search-bar");
    const logo = document.getElementById("logo");
    const pageContent = document.getElementById("page-content");

    window.addEventListener("scroll", () => {
        if (window.scrollY > 80) {
            // Shrink navbar padding
            navbarInner.classList.remove("py-5");
            navbarInner.classList.add("py-2");

            // Shrink search bar
            searchBar.classList.remove("p-3");
            searchBar.classList.add("p-1", "scale-95");

            // Shrink logo
            logo.classList.remove("text-2xl");
            logo.classList.add("text-xl");

            // Reduce page offset
            pageContent.classList.remove("pt-32");
            pageContent.classList.add("pt-24");
        } else {
            // Expand navbar padding
            navbarInner.classList.remove("py-2");
            navbarInner.classList.add("py-5");

            // Expand search bar
            searchBar.classList.remove("p-1", "scale-95");
            searchBar.classList.add("p-3");

            // Expand logo
            logo.classList.remove("text-xl");
            logo.classList.add("text-2xl");

            // Restore page offset
            pageContent.classList.remove("pt-24");
            pageContent.classList.add("pt-32");
        }
    });
</script>


</html>
